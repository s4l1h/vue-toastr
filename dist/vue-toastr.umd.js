var M=Object.defineProperty;var S=(o,s,d)=>s in o?M(o,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[s]=d;var l=(o,s,d)=>(S(o,typeof s!="symbol"?s+"":s,d),d);(function(o,s){typeof exports=="object"&&typeof module!="undefined"?s(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],s):(o=typeof globalThis!="undefined"?globalThis:o||self,s(o.VueToastr={},o.Vue))})(this,function(o,s){"use strict";var d="";const p=["toast-top-right","toast-bottom-right","toast-bottom-left","toast-top-left","toast-top-full-width","toast-bottom-full-width","toast-top-center","toast-bottom-center"];var f=(t,e)=>{const i=t.__vccOpts||t;for(const[a,n]of e)i[a]=n;return i};const B=s.defineComponent({name:"ToastProgress",props:{percent:{type:Number,default:100}},computed:{styleObject(){return{width:`${this.percent.toString()}%`}}}});function C(t,e,i,a,n,T){return s.openBlock(),s.createElementBlock("div",{class:"toast-progress",style:s.normalizeStyle(t.styleObject)},null,4)}var h=f(B,[["render",C]]);class r{constructor(e){l(this,"id");l(this,"params");l(this,"remaning");l(this,"estimated");l(this,"times");l(this,"stepTime");this.params=e,this.id=0,this.remaning=0,this.estimated=0,this.times={},this.stepTime=typeof e.stepTime=="undefined"?50:e.stepTime}callback(){this.times.callback=r.getTime(),this.remaning-=this.stepTime,this.estimated+=this.stepTime,this.callCallbackFN("callback"),this.remaning<=0&&this.finish()}static getTime(){return new Date().getTime()}getPercent(){return Math.floor(this.remaning/this.params.totalTime*100)}start(){this.times.started=r.getTime(),this.callCallbackFN("before:start"),this.remaning=this.params.totalTime,this.setupInterval(),this.callCallbackFN("after:start")}finish(){this.times.finished=r.getTime(),this.callCallbackFN("before:finish"),this.clearInterval(),this.callCallbackFN("after:finish")}stop(){this.times.stoped=r.getTime(),this.callCallbackFN("before:stop"),this.clearInterval(),this.callCallbackFN("after:stop")}pause(){this.times.paused=r.getTime(),this.callCallbackFN("before:pause"),this.clearInterval(),this.callCallbackFN("after:pause")}resume(){this.times.resumed=r.getTime(),this.callCallbackFN("before:resume"),this.setupInterval(),this.callCallbackFN("after:resume")}callCallbackFN(e){var i;((i=this.params)==null?void 0:i.callbackFunctions)&&typeof this.params.callbackFunctions[e]=="function"&&this.params.callbackFunctions[e]()}clearInterval(){clearInterval(this.id)}setupInterval(){this.id=setInterval(()=>{this.callback()},this.stepTime)}}const N=s.defineComponent({name:"Toast",components:{ToastProgress:h},props:{data:{type:Object,default:()=>({})}},data(){return{timeout:0,progressbar:!1,progressBarTimer:void 0,timeoutTimer:void 0}},mounted(){this.progressBarTimer&&this.progressBarTimer.start(),this.timeoutTimer&&this.timeoutTimer.start()},created(){typeof this.data.timeout!="undefined"&&this.data.timeout!==0?(this.timeoutTimer=new r({totalTime:this.data.timeout,stepTime:50,callbackFunctions:{"after:finish":()=>{this.close()}}}),this.data.progressbar!==!1&&(this.progressbar=!0,this.progressBarTimer=new r({totalTime:this.data.timeout}))):this.data.progressBarValue!==null&&this.data.progressbar!==!1&&(this.progressbar=!0)},computed:{classNames(){var t;return((t=this.data)==null?void 0:t.classNames)?["toast",`toast-${this.data.type}`].concat(this.data.classNames):["toast",`toast-${this.data.type}`]},progressBarPercent(){return this.data.progressBarValue!=null?this.data.progressBarValue:this.progressBarTimer!==void 0?this.progressBarTimer.getPercent():0}},beforeUnmount(){this.progressBarTimer!=null&&this.progressBarTimer.stop(),this.timeoutTimer!=null&&this.timeoutTimer.stop()},methods:{onMouseOver(){typeof this.data.onMouseOver!="undefined"&&this.data.onMouseOver(),this.data.closeOnHover&&(this.progressBarTimer!=null&&this.progressBarTimer.pause(),this.timeoutTimer!=null&&this.timeoutTimer.pause())},onMouseOut(){typeof this.data.onMouseOut!="undefined"&&this.data.onMouseOut(),this.data.closeOnHover&&(this.progressBarTimer!=null&&this.progressBarTimer.resume(),this.timeoutTimer!=null&&this.timeoutTimer.resume())},clicked(){typeof this.data.onClicked!="undefined"&&this.data.onClicked(),this.clickClose()},clickClose(){typeof this.data.clickClose!="undefined"&&this.data.clickClose===!1||this.close()},close(){this.$parent.Close(this.data)}}}),O=["innerHTML"],$=["innerHTML"],P={key:3,class:"toast-message"};function D(t,e,i,a,n,T){const u=s.resolveComponent("toast-progress");return s.openBlock(),s.createElementBlock("div",{style:s.normalizeStyle([t.data.style,{display:"block"}]),class:s.normalizeClass(t.classNames),onClick:e[0]||(e[0]=c=>t.clicked()),onMouseover:e[1]||(e[1]=(...c)=>t.onMouseOver&&t.onMouseOver(...c)),onMouseout:e[2]||(e[2]=(...c)=>t.onMouseOut&&t.onMouseOut(...c))},[t.progressbar?(s.openBlock(),s.createBlock(u,{key:0,percent:t.progressBarPercent,ref:"progressBar"},null,8,["percent"])):s.createCommentVNode("",!0),t.data.title?(s.openBlock(),s.createElementBlock("div",{key:1,class:"toast-title",innerHTML:t.data.title},null,8,O)):s.createCommentVNode("",!0),t.data.msg&&!t.$slots.default?(s.openBlock(),s.createElementBlock("div",{key:2,class:"toast-message",innerHTML:t.data.msg},null,8,$)):s.createCommentVNode("",!0),t.$slots.default?(s.openBlock(),s.createElementBlock("div",P,[s.renderSlot(t.$slots,"default")])):s.createCommentVNode("",!0)],38)}var m=f(N,[["render",D]]);const g=s.reactive({}),j=s.reactive({}),v=s.defineComponent({name:"ToastContainer",props:{defaultClassNames:{type:Array,default:()=>[]},defaultPosition:{type:String,default:()=>"toast-top-right"},defaultType:{type:String,default:()=>"success"},defaultCloseOnHover:{type:Boolean,default:()=>!0},defaultTimeout:{type:Number,default:()=>5e3},defaultProgressBar:{type:Boolean,default:()=>!0},defaultProgressBarValue:{type:Number,default:()=>{}},defaultPreventDuplicates:{type:Boolean,default:()=>!1},defaultStyle:{type:Object,default:()=>({})}},components:{Toast:m},data(){for(let t=0;t<=p.length-1;t+=1)g[p[t]]={};return{positions:p,list:g,index:0,savedNames:j}},created(){},mounted(){},methods:{addToast(t){const e=t;this.index+=1,e.index=this.index,this.list[e.position][this.index]=e,typeof e.name!="undefined"&&(this.savedNames[e.name]=e),this.$nextTick(()=>{typeof e.onCreated!="undefined"&&e.onCreated()})},removeByName(t){typeof this.savedNames[t]!="undefined"&&(this.Close(this.savedNames[t]),delete this.savedNames[t])},removeToast(t){typeof this.list[t.position][t.index]!="undefined"&&(delete this.list[t.position][t.index],this.$nextTick(()=>{typeof t.onClosed!="undefined"&&t.onClosed()}))},setProgress(t,e){const i=this.list[t.position][t.index];typeof i!="undefined"&&(i.progressBarValue=e)},Add(t){return this.AddData(this.processObjectData(t))},AddData(t){if(typeof t!="object")return!1;if(t.preventDuplicates){const e=Object.keys(this.list[t.position]);for(let i=0;i<e.length;i+=1)if(this.list[t.position][e[i]].title===t.title&&this.list[t.position][e[i]].msg===t.msg)return!1}return this.addToast(t),t},processObjectData(t){const e=t;return typeof e=="object"&&typeof e.msg!="undefined"?(typeof e.classNames=="undefined"&&(e.classNames=this.defaultClassNames),typeof e.position=="undefined"&&(e.position=this.defaultPosition),typeof e.type=="undefined"&&(e.type=this.defaultType),typeof e.timeout=="undefined"&&(e.timeout=this.defaultTimeout),typeof e.progressbar=="undefined"&&(e.progressbar=this.defaultProgressBar),typeof e.progressBarValue=="undefined"&&(e.progressBarValue=this.defaultProgressBarValue),typeof e.closeOnHover=="undefined"&&(e.closeOnHover=this.defaultCloseOnHover),typeof e.preventDuplicates=="undefined"&&(e.preventDuplicates=this.defaultPreventDuplicates),typeof e.style=="undefined"&&(e.style=this.defaultStyle),e):{index:0,msg:e.toString(),position:this.defaultPosition,type:this.defaultType,timeout:this.defaultTimeout,closeOnHover:this.defaultCloseOnHover,progressbar:this.defaultProgressBar,progressBarValue:this.defaultProgressBarValue,preventDuplicates:this.defaultPreventDuplicates,style:this.defaultStyle,classNames:this.defaultClassNames}},e(t,e){const i=this.processObjectData(t);return i.type="error",e&&(i.title=e),this.AddData(i)},s(t,e){const i=this.processObjectData(t);return i.type="success",e&&(i.title=e),this.AddData(i)},w(t,e){const i=this.processObjectData(t);return i.type="warning",e&&(i.title=e),this.AddData(i)},i(t,e){const i=this.processObjectData(t);return i.type="info",e&&(i.title=e),this.AddData(i)},Close(t){this.removeToast(t)},removeByType(t){for(let e=0;e<this.positions.length;e+=1){const i=Object.keys(this.list[this.positions[e]]);for(let a=0;a<i.length;a+=1)this.list[this.positions[e]][i[a]].type===t&&this.Close(this.list[this.positions[e]][i[a]])}},clearAll(){for(let t=0;t<this.positions.length;t+=1){const e=Object.keys(this.list[this.positions[t]]);for(let i=0;i<e.length;i+=1)this.Close(this.list[this.positions[t]][e[i]])}}}});function F(t,e,i,a,n,T){const u=s.resolveComponent("Toast");return s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(t.list,(c,b)=>(s.openBlock(),s.createElementBlock("div",{class:s.normalizeClass("toast-container "+b),key:b},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(c,k=>(s.openBlock(),s.createBlock(u,{data:k,key:k.index},{default:s.withCtx(()=>[s.renderSlot(t.$slots,"default")]),_:2},1032,["data"]))),128))],2))),128)}var y=f(v,[["render",F]]);const V={install:(t,e)=>{const i=s.createApp(y,e),a=document.createElement("div"),n=i.mount(a);document.body&&document.body.appendChild(a),t.config.globalProperties.$toastr=n,t.provide("toastr",n)}};o.Toast=m,o.ToastContainer=y,o.ToastProgress=h,o.VueToastr=V,Object.defineProperty(o,"__esModule",{value:!0}),o[Symbol.toStringTag]="Module"});
//# sourceMappingURL=vue-toastr.umd.js.map
